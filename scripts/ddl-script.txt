-- we don't know how to generate root <with-no-name> (class Root) :(

create table LOCATION
(
	SEATID VARCHAR(10) not null
		constraint LOCATION_PK
			primary key,
	FLOORNUM INTEGER,
	BUILDINGID VARCHAR(10)
);

create table SETTINGS
(
	ID INTEGER NOT NULL GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1)
		constraint SETTINGS_PK
			primary key,
	NAME VARCHAR(50),
	VALUE VARCHAR(50)
);

create table TRANSACTIONTYPES
(
	TRANSTYPEID INTEGER not null
		constraint TRANSACTIONTYPES_PK
			primary key,
	TRANSTYPENAME VARCHAR(50)
);

create table USERS
(
	NAME VARCHAR(50),
	PASSWORD VARCHAR(50),
	CDSID VARCHAR(10) not null
		constraint USERS_PK
			primary key
);

create table BOOKING_INFO
(
	BOOKINGID INTEGER NOT NULL GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1)
		constraint BOOKINGINFO_PK
			primary key,
	DATE DATE,
	STARTTIME TIME,
	ENDTIME TIME,
	CDSID VARCHAR(10)
		constraint BOOKINGINFO_USERS_CDSID_FK
			references USERS,
	SEATID VARCHAR(10)
		constraint BOOKINGINFO_LOCATION_SEATID_FK
			references LOCATION,
	IS_ACTIVE BOOLEAN
);

create table TRANSACTIONS
(
	TRANSID INTEGER NOT NULL GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1)
		constraint TRANSACTIONS_PK
			primary key,
	TRANSTYPEID INTEGER
		constraint TRANSACTIONS_TRANSACTIONTYPES_TRANSTYPEID_FK
			references TRANSACTIONTYPES,
	TRANSTIME TIMESTAMP,
	BOOKINGID INTEGER
		constraint TRANSACTIONS_BOOKING_INFO_BOOKINGID_FK
			references BOOKING_INFO
);
